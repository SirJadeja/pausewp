(()=>{"use strict";var e={n:a=>{var s=a&&a.__esModule?()=>a.default:()=>a;return e.d(s,{a:s}),s},d:(a,s)=>{for(var t in s)e.o(s,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:s[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)};const a=window.wp.element,s=window.wp.i18n,t=window.wp.apiFetch;var n=e.n(t);const l=window.wp.components,i=window.ReactJSXRuntime,p=()=>{const[e,t]=(0,a.useState)(null),[p,o]=(0,a.useState)(!0),[d,r]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[_,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{o(!0);const e=await n()({path:"/pausewp/v1/settings"});t(e),e.logo_id&&h(e.logo_id)}catch(e){u({status:"error",message:e.message||(0,s.__)("Failed to load settings.","pausewp")})}finally{o(!1)}},h=async e=>{try{const a=await n()({path:`/wp/v2/media/${e}`});a?.source_url&&w(a.source_url)}catch(e){}},x=(e,a)=>{t(s=>({...s,[e]:a}))};return p?(0,i.jsxs)("div",{className:"pausewp-admin",children:[(0,i.jsxs)("div",{className:"pausewp-admin__header",children:[(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--title"}),(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--text"})]}),(0,i.jsxs)("div",{className:"pausewp-admin__layout",children:[(0,i.jsxs)("div",{className:"pausewp-admin__main",children:[(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--heading"})}),(0,i.jsx)(l.CardBody,{children:(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--toggle"})})]}),(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--heading"})}),(0,i.jsxs)(l.CardBody,{children:[(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--input"}),(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--input"}),(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--textarea"})]})]})]}),(0,i.jsx)("div",{className:"pausewp-admin__sidebar",children:(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--heading"})}),(0,i.jsxs)(l.CardBody,{children:[(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--input"}),(0,i.jsx)("div",{className:"pausewp-skeleton pausewp-skeleton--input"})]})]})})]})]}):e?(0,i.jsxs)("div",{className:"pausewp-admin",children:[(0,i.jsxs)("div",{className:"pausewp-admin__header",children:[(0,i.jsx)("h1",{children:(0,s.__)("WP Pause - Maintenance & Coming Soon","pausewp")}),(0,i.jsx)("p",{className:"pausewp-admin__description",children:(0,s.__)("Configure your maintenance mode or coming soon page settings.","pausewp")})]}),c&&(0,i.jsx)(l.Notice,{status:c.status,isDismissible:!0,onDismiss:()=>u(null),children:c.message}),(0,i.jsxs)("div",{className:"pausewp-admin__layout",children:[(0,i.jsxs)("div",{className:"pausewp-admin__main",children:[(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("h2",{children:(0,s.__)("Maintenance Status","pausewp")})}),(0,i.jsx)(l.CardBody,{children:(0,i.jsx)(l.ToggleControl,{label:(0,s.__)("Enable Maintenance Mode","pausewp"),help:e.is_enabled?(0,s.__)("Site is currently in maintenance mode.","pausewp"):(0,s.__)("Site is accessible to all visitors.","pausewp"),checked:e.is_enabled,onChange:e=>x("is_enabled",e)})})]}),(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("h2",{children:(0,s.__)("Content Settings","pausewp")})}),(0,i.jsxs)(l.CardBody,{children:[(0,i.jsx)(l.BaseControl,{label:(0,s.__)("Logo","pausewp"),help:(0,s.__)("Upload a logo to display on the maintenance page.","pausewp"),className:"pausewp-logo-upload",children:(0,i.jsxs)("div",{className:"pausewp-logo-upload__container",children:[_&&(0,i.jsx)("div",{className:"pausewp-logo-upload__preview",children:(0,i.jsx)("img",{src:_,alt:(0,s.__)("Logo preview","pausewp")})}),(0,i.jsxs)("div",{className:"pausewp-logo-upload__buttons",children:[(0,i.jsx)(l.Button,{variant:"secondary",onClick:()=>{if("undefined"==typeof wp||!wp.media)return;const e=wp.media({title:(0,s.__)("Select Logo","pausewp"),button:{text:(0,s.__)("Use this image","pausewp")},multiple:!1,library:{type:"image"}});e.on("select",()=>{const a=e.state().get("selection").first().toJSON();var s;x("logo_id",(s=a).id),w(s.url)}),e.open()},children:e.logo_id?(0,s.__)("Replace Logo","pausewp"):(0,s.__)("Upload Logo","pausewp")}),e.logo_id>0&&(0,i.jsx)(l.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{x("logo_id",0),w(null)},children:(0,s.__)("Remove","pausewp")})]})]})}),(0,i.jsx)(l.TextControl,{label:(0,s.__)("Logo Alt Text","pausewp"),value:e.logo_alt||"",onChange:e=>x("logo_alt",e),help:(0,s.__)("Alternative text for accessibility.","pausewp")}),(0,i.jsx)(l.TextControl,{label:(0,s.__)("Heading","pausewp"),value:e.heading||"",onChange:e=>x("heading",e),help:(0,s.__)("Main heading displayed on the maintenance page.","pausewp")}),(0,i.jsx)(l.TextareaControl,{label:(0,s.__)("Description","pausewp"),value:e.subheading||"",onChange:e=>x("subheading",e),help:(0,s.__)("Subheading text. Basic HTML allowed (bold, links).","pausewp"),rows:4})]})]}),(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("h2",{children:(0,s.__)("CTA Buttons","pausewp")})}),(0,i.jsxs)(l.CardBody,{children:[(0,i.jsx)("p",{className:"pausewp-admin__help-text",children:(0,s.__)("Add buttons to display on the maintenance page.","pausewp")}),(e.cta_buttons||[]).map((a,t)=>(0,i.jsxs)("div",{className:"pausewp-cta-row",children:[(0,i.jsx)(l.TextControl,{label:(0,s.__)("Label","pausewp"),value:a.label||"",onChange:a=>{const s=[...e.cta_buttons||[]];s[t]={...s[t],label:a},x("cta_buttons",s)},placeholder:(0,s.__)("e.g., Contact Us","pausewp")}),(0,i.jsx)(l.TextControl,{label:(0,s.__)("URL","pausewp"),value:a.url||"",onChange:a=>{const s=[...e.cta_buttons||[]];s[t]={...s[t],url:a},x("cta_buttons",s)},placeholder:(0,s.__)("https://example.com","pausewp")}),(0,i.jsx)(l.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{const a=[...e.cta_buttons||[]];a.splice(t,1),x("cta_buttons",a)},className:"pausewp-cta-remove",children:(0,s.__)("Remove","pausewp")})]},t)),(0,i.jsx)(l.Button,{variant:"secondary",onClick:()=>{const a=[...e.cta_buttons||[],{label:"",url:""}];x("cta_buttons",a)},className:"pausewp-cta-add",children:(0,s.__)("+ Add Button","pausewp")})]})]})]}),(0,i.jsxs)("div",{className:"pausewp-admin__sidebar",children:[(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("h2",{children:(0,s.__)("Auto Turn Off","pausewp")})}),(0,i.jsxs)(l.CardBody,{children:[(0,i.jsx)(l.TextControl,{label:(0,s.__)("Target Date & Time","pausewp"),type:"datetime-local",value:e.countdown_datetime||"",onChange:e=>x("countdown_datetime",e),help:(0,s.__)("Site will automatically go live at this time. Uses WordPress timezone.","pausewp")}),e.countdown_datetime&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.ToggleControl,{label:(0,s.__)("Show countdown on page","pausewp"),help:e.countdown_enabled?(0,s.__)("Countdown timer is visible to visitors.","pausewp"):(0,s.__)("Countdown hidden. Auto turn-off will still work.","pausewp"),checked:e.countdown_enabled||!1,onChange:e=>x("countdown_enabled",e)})})]})]}),(0,i.jsxs)(l.Card,{className:"pausewp-admin__card",children:[(0,i.jsx)(l.CardHeader,{children:(0,i.jsx)("h2",{children:(0,s.__)("SEO Settings","pausewp")})}),(0,i.jsxs)(l.CardBody,{children:[(0,i.jsx)(l.TextControl,{label:(0,s.__)("Page Title","pausewp"),value:e.seo_title||"",onChange:e=>x("seo_title",e),help:(0,s.__)("Browser tab title.","pausewp")}),(0,i.jsx)(l.TextareaControl,{label:(0,s.__)("Meta Description","pausewp"),value:e.meta_description||"",onChange:e=>x("meta_description",e),rows:3})]})]}),(0,i.jsx)(l.Card,{className:"pausewp-admin__card pausewp-admin__card--sticky",children:(0,i.jsx)(l.CardBody,{children:(0,i.jsx)(l.Button,{variant:"primary",onClick:async()=>{try{r(!0),u(null);const a=await n()({path:"/pausewp/v1/settings",method:"POST",data:e});t(a),u({status:"success",message:(0,s.__)("Settings saved successfully!","pausewp")})}catch(e){u({status:"error",message:e.message||(0,s.__)("Failed to save settings.","pausewp")})}finally{r(!1)}},isBusy:d,disabled:d,className:"pausewp-save-btn",children:d?(0,s.__)("Saving...","pausewp"):(0,s.__)("Save Settings","pausewp")})})})]})]})]}):(0,i.jsx)(l.Notice,{status:"error",isDismissible:!1,children:(0,s.__)("Failed to load settings. Please refresh the page.","pausewp")})};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("pausewp-admin-app");e&&(0,a.createRoot)(e).render((0,i.jsx)(p,{}))})})();